<div class="form">
<input id="username" />
<input id="password" type="password" />
<button id="addUser">Registrar</button>
</div>

<script src="js/RestApi.js"></script>
<script>

const userInput = document.getElementById("username")
const passInput = document.getElementById("password")

document
  .getElementById("addUser")
  .addEventListener("click",()=>{
    const user = {
      usuario : userInput.value,
      pass : passInput.value
    }
    RestApi.post("/api/user",user)
      .then((userInfo)=>{
        sessionStorage.username = JSON.stringify(userInfo)
        window.location.href = "login.html"
      })
      .catch((err)=>{
        alert("Error al logearse")
        console.error(err)
      })
  })



</script>
